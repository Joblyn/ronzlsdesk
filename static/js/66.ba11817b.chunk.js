(window.webpackJsonp=window.webpackJsonp||[]).push([[66],{199:function(e,t,n){"use strict";var a=n(19),r=n(1),i=n.n(r),c=(n(34),n(35)),s=n(202),o=n(203),l=c.a.create("page"),u=function(e){var t=e.breadcrumbs,n=e.tag,r=e.className,c=e.children,u=Object(a.a)(e,["breadcrumbs","tag","className","children"]),m=l.b("px-3",r);return i.a.createElement(n,Object.assign({className:m},u),i.a.createElement("div",{className:l.e("header")},t&&i.a.createElement(s.a,{className:l.e("breadcrumb")},i.a.createElement(o.a,null,"Home"),t.length&&t.map(function(e,t){var n=e.name,a=e.active;return i.a.createElement(o.a,{key:t,active:a},n)}))),c)};u.defaultProps={tag:"div",title:""},t.a=u},231:function(e,t,n){"use strict";var a=n(5),r=n(6),i=n(15),c=n(10),s=n(1),o=n.n(s),l=n(2),u=n.n(l),m=n(9),f=n.n(m),d=n(3),h={children:u.a.node,inline:u.a.bool,tag:d.q,innerRef:u.a.oneOfType([u.a.object,u.a.func,u.a.string]),className:u.a.string,cssModule:u.a.object},p=function(e){function t(t){var n;return(n=e.call(this,t)||this).getRef=n.getRef.bind(Object(c.a)(Object(c.a)(n))),n.submit=n.submit.bind(Object(c.a)(Object(c.a)(n))),n}Object(i.a)(t,e);var n=t.prototype;return n.getRef=function(e){this.props.innerRef&&this.props.innerRef(e),this.ref=e},n.submit=function(){this.ref&&this.ref.submit()},n.render=function(){var e=this.props,t=e.className,n=e.cssModule,i=e.inline,c=e.tag,s=e.innerRef,l=Object(r.a)(e,["className","cssModule","inline","tag","innerRef"]),u=Object(d.m)(f()(t,!!i&&"form-inline"),n);return o.a.createElement(c,Object(a.a)({},l,{ref:s,className:u}))},t}(s.Component);p.propTypes=h,p.defaultProps={tag:"form"},t.a=p},758:function(e,t,n){"use strict";n.r(t);var a=n(24),r=n(1),i=n.n(r),c=n(16),s=n(177),o=n(231),l=n(71),u=n.n(l),m=n(90),f=n(37),d=n(38);function h(e,t){var n;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw i}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var v=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"user",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Object(f.a)(this,e),this._webcamElement=t,this._webcamElement.width=this._webcamElement.width||640,this._webcamElement.height=this._webcamElement.height||.75*this._webcamElement.width,this._facingMode=n,this._webcamList=[],this._streamList=[],this._selectedDeviceId="",this._canvasElement=a,this._snapSoundElement=r}return Object(d.a)(e,[{key:"getVideoInputs",value:function(e){var t=this;return this._webcamList=[],e.forEach(function(e){"videoinput"===e.kind&&t._webcamList.push(e)}),1==this._webcamList.length&&(this._facingMode="user"),this._webcamList}},{key:"getMediaConstraints",value:function(){var e={};return""==this._selectedDeviceId?e.facingMode=this._facingMode:e.deviceId={exact:this._selectedDeviceId},{video:e,audio:!1}}},{key:"selectCamera",value:function(){var e,t=h(this._webcamList);try{for(t.s();!(e=t.n()).done;){var n=e.value;if("user"==this._facingMode&&n.label.toLowerCase().includes("front")||"enviroment"==this._facingMode&&n.label.toLowerCase().includes("back")){this._selectedDeviceId=n.deviceId;break}}}catch(a){t.e(a)}finally{t.f()}}},{key:"flip",value:function(){this._facingMode="user"==this._facingMode?"enviroment":"user",this._webcamElement.style.transform="",this.selectCamera()}},{key:"start",value:function(){var e=Object(m.a)(u.a.mark(function e(){var t,n=this,a=arguments;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=!(a.length>0&&void 0!==a[0])||a[0],e.abrupt("return",new Promise(function(e,a){n.stop(),navigator.mediaDevices.getUserMedia(n.getMediaConstraints()).then(function(r){n._streamList.push(r),n.info().then(function(r){n.selectCamera(),t?n.stream().then(function(t){e(n._facingMode)}).catch(function(e){a(e)}):e(n._selectedDeviceId)}).catch(function(e){a(e)})}).catch(function(e){a(e)})}));case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"info",value:function(){var e=Object(m.a)(u.a.mark(function e(){var t=this;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,n){navigator.mediaDevices.enumerateDevices().then(function(n){t.getVideoInputs(n),e(t._webcamList)}).catch(function(e){n(e)})}));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"stream",value:function(){var e=Object(m.a)(u.a.mark(function e(){var t=this;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(e,n){navigator.mediaDevices.getUserMedia(t.getMediaConstraints()).then(function(n){t._streamList.push(n),t._webcamElement.srcObject=n,"user"==t._facingMode&&(t._webcamElement.style.transform="scale(-1,1)"),t._webcamElement.play(),e(t._facingMode)}).catch(function(e){console.log(e),n(e)})}));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"stop",value:function(){this._streamList.forEach(function(e){e.getTracks().forEach(function(e){e.stop()})})}},{key:"snap",value:function(){if(null!=this._canvasElement){null!=this._snapSoundElement&&this._snapSoundElement.play(),this._canvasElement.height=this._webcamElement.scrollHeight,this._canvasElement.width=this._webcamElement.scrollWidth;var e=this._canvasElement.getContext("2d");return"user"==this._facingMode&&(e.translate(this._canvasElement.width,0),e.scale(-1,1)),e.clearRect(0,0,this._canvasElement.width,this._canvasElement.height),e.drawImage(this._webcamElement,0,0,this._canvasElement.width,this._canvasElement.height),this._canvasElement.toDataURL("image/png")}throw"canvas element is missing"}},{key:"facingMode",get:function(){return this._facingMode},set:function(e){this._facingMode=e}},{key:"webcamList",get:function(){return this._webcamList}},{key:"webcamCount",get:function(){return this._webcamList.length}},{key:"selectedDeviceId",get:function(){return this._selectedDeviceId}}]),e}(),b=n(13),g=n(199),w=n(12),E=n(20),_=n(32),y=n(5),j=n(201),O=(n(204),n(209)),k=n(211),N=r.forwardRef(function(e,t){var n=e.classes,a=e.className,i=e.row,c=void 0!==i&&i,s=Object(j.a)(e,["classes","className","row"]);return r.createElement("div",Object(y.a)({className:Object(O.a)(n.root,a,c&&n.row),ref:t},s))}),M=Object(k.a)({root:{display:"flex",flexDirection:"column",flexWrap:"wrap"},row:{flexDirection:"row"}},{name:"MuiFormGroup"})(N);function C(){var e=Object(r.useState)(),t=Object(a.a)(e,2),n=t[0],l=t[1],u=Object(r.useState)(""),m=Object(a.a)(u,2),f=m[0],d=m[1],h=Object(r.useState)(!1),p=Object(a.a)(h,2),y=p[0],j=p[1],O=Object(r.useState)(!1),k=Object(a.a)(O,2),N=k[0],C=k[1],D=Object(r.useState)(!1),I=Object(a.a)(D,2),L=I[0],S=I[1],x=Object(c.b)(),R=function(e){var t=document.getElementById("webcam"),n=document.getElementById("canvas"),a=new v(t,"user",n);"start"===e?a.start("facingMode").then(function(e){console.log("webcam started"),j(!0)}).catch(function(e){console.log(e),j(!1)}):"stop"===e?(j(!1),a.stop(),console.log("webcam stopped")):"snap"===e?(a.snap(),C(!0),console.log("snapped"),console.log(a.snap())):"flip"===e&&(a.flip(),a.start())};return i.a.createElement(g.a,{className:"DashboardPage",title:"Dashboard",breadcrumbs:[{name:"Upload Document",active:!0}]},i.a.createElement("div",{className:"main"},i.a.createElement("h3",{className:"text-center"},"Upload Document"),i.a.createElement("div",{className:"cont"},i.a.createElement("div",null,i.a.createElement("video",{id:"webcam",autoPlay:!0,playsInline:!0,width:"640",height:"480",className:y?"":"d-none"}),i.a.createElement("canvas",{id:"canvas",width:"640",height:"480",className:N?"":"d-none"}),y?i.a.createElement("div",null,i.a.createElement(s.a,{onClick:function(){return R("snap")}},"Capture"),i.a.createElement(s.a,{onClick:function(){return R("stop")}},"Stop Camera"),i.a.createElement(s.a,{onClick:function(){return R("flip")}},"Flip Camera")):i.a.createElement(s.a,{className:"action"},i.a.createElement(b.r,{size:50}),i.a.createElement("p",null,"Take a photo"))),i.a.createElement("div",null,i.a.createElement(s.a,{className:"action",onClick:function(){return S(!0)}},i.a.createElement(b.i,{size:50}),i.a.createElement("p",null,"Upload Document"))),L&&i.a.createElement("div",{className:"overlay"},i.a.createElement(o.a,{id:"doc-form",onSubmit:function(e){if(e.preventDefault(),n&&f){var t=E.x+"admin_id";x(Object(_.m)(t,n))}},className:"form"},i.a.createElement(b.e,{size:25,className:"icon",onClick:function(){return S(!1)}}),i.a.createElement(M,{className:"form-group"},i.a.createElement(w.a,{required:!0,type:"file",name:"doc",onChange:function(e){return function(e){l({docName:e.name,docContentUrl:e.value})}(e.target)},id:"inpFile",className:"inp mt-4"})),i.a.createElement(M,{className:"form-group"},i.a.createElement(w.a,{required:!0,type:"text",name:"file-name",placeholder:"file name",className:"inp mt-2",onChange:function(e){var t=e.target;return d(t.value)}})),i.a.createElement(s.a,{type:"submit",form:"doc-form",className:"appt-button mt-3",style:{padding:".7rem",fontSize:"1.2rem"}},"Upload"))))))}n.d(t,"default",function(){return C})}}]);
//# sourceMappingURL=66.ba11817b.chunk.js.map